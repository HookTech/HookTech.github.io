!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){!function(){document.querySelectorAll(".post-item, .post-card").forEach(e=>{e.classList.add("post-item-enhanced")});document.querySelectorAll(".category, .tag").forEach(e=>{e.classList.add("category-tag")});const e=document.querySelector(".navbar");e&&e.classList.add("navbar-enhanced");const t=document.querySelector(".search-box, .search-input");t&&t.classList.add("search-box-enhanced");const n=document.querySelector(".pagination");n&&n.classList.add("pagination-enhanced");const o=document.querySelector(".footer");o&&o.classList.add("footer-enhanced")}(),function(){const e=document.createElement("button");e.className="scroll-top-enhanced",e.innerHTML="↑",e.setAttribute("aria-label","回到顶部"),document.body.appendChild(e);let t=!1;function n(){window.pageYOffset>300?e.classList.add("visible"):e.classList.remove("visible"),t=!1}function o(){t||(requestAnimationFrame(n),t=!0)}window.addEventListener("scroll",o),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}(),function(){const e=document.querySelector(".navbar-enhanced");if(!e)return;let t=!1;function n(){window.pageYOffset>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),t=!1}function o(){t||(requestAnimationFrame(n),t=!0)}window.addEventListener("scroll",o)}(),function(){const e=document.querySelector(".search-box-enhanced");if(!e)return;const t=document.createElement("span");t.innerHTML="🔍",t.style.cssText="\n            position: absolute;\n            right: 15px;\n            top: 50%;\n            transform: translateY(-50%);\n            font-size: 1.2rem;\n            opacity: 0.6;\n            transition: opacity 0.3s ease;\n        ",e.appendChild(t);const n=e.querySelector("input");n&&(n.addEventListener("focus",()=>{t.style.opacity="1"}),n.addEventListener("blur",()=>{t.style.opacity="0.6"}))}(),function(){const e=document.querySelector(".pagination-enhanced");if(!e)return;e.querySelectorAll(".page-item").forEach((e,t)=>{e.style.animationDelay=.1*t+"s",e.classList.add("fade-in")})}()}),function(){if(document.querySelectorAll(".post-item-enhanced").forEach(e=>{e.addEventListener("click",function(e){const t=document.createElement("span"),n=this.getBoundingClientRect(),o=Math.max(n.width,n.height),a=e.clientX-n.left-o/2,c=e.clientY-n.top-o/2;t.style.cssText=`\n                    position: absolute;\n                    width: ${o}px;\n                    height: ${o}px;\n                    left: ${a}px;\n                    top: ${c}px;\n                    background: rgba(255, 255, 255, 0.3);\n                    border-radius: 50%;\n                    transform: scale(0);\n                    animation: ripple 0.6s linear;\n                    pointer-events: none;\n                `,this.appendChild(t),setTimeout(()=>{t.remove()},600)})}),!document.querySelector("#ripple-animation")){const e=document.createElement("style");e.id="ripple-animation",e.textContent="\n                @keyframes ripple {\n                    to {\n                        transform: scale(4);\n                        opacity: 0;\n                    }\n                }\n            ",document.head.appendChild(e)}}(),function(){const e=document.querySelectorAll("img[data-src]");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.getAttribute("data-src"),n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01});e.forEach(e=>{e.classList.add("lazy"),t.observe(e)})}()}();