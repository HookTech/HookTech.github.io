!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){!function(){document.querySelectorAll(".post-item, .post-card").forEach(e=>{e.classList.add("post-item-enhanced")});document.querySelectorAll(".category, .tag").forEach(e=>{e.classList.add("category-tag")});const e=document.querySelector(".navbar");e&&e.classList.add("navbar-enhanced");const n=document.querySelector(".search-box, .search-input");n&&n.classList.add("search-box-enhanced");const t=document.querySelector(".pagination");t&&t.classList.add("pagination-enhanced");const o=document.querySelector(".footer");o&&o.classList.add("footer-enhanced")}(),function(){const e=document.createElement("button");e.className="scroll-top-enhanced",e.innerHTML="↑",e.setAttribute("aria-label","回到顶部"),document.body.appendChild(e);let n=!1;function t(){window.pageYOffset>300?e.classList.add("visible"):e.classList.remove("visible"),n=!1}function o(){n||(requestAnimationFrame(t),n=!0)}window.addEventListener("scroll",o),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}(),function(){const e=document.querySelector(".navbar-enhanced");if(!e)return;let n=!1;function t(){window.pageYOffset>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),n=!1}function o(){n||(requestAnimationFrame(t),n=!0)}window.addEventListener("scroll",o)}(),function(){const e=document.querySelector(".search-box-enhanced");if(!e)return;const n=document.createElement("span");n.innerHTML="🔍",n.style.cssText="\n            position: absolute;\n            right: 15px;\n            top: 50%;\n            transform: translateY(-50%);\n            font-size: 1.2rem;\n            opacity: 0.6;\n            transition: opacity 0.3s ease;\n        ",e.appendChild(n);const t=e.querySelector("input");t&&(t.addEventListener("focus",()=>{n.style.opacity="1"}),t.addEventListener("blur",()=>{n.style.opacity="0.6"}))}(),function(){const e=document.querySelector(".pagination-enhanced");if(!e)return;e.querySelectorAll(".page-item").forEach((e,n)=>{e.style.animationDelay=.1*n+"s",e.classList.add("fade-in")})}()}),function(){if(document.querySelectorAll(".post-item-enhanced").forEach(e=>{e.addEventListener("click",function(e){const n=document.createElement("span"),t=this.getBoundingClientRect(),o=Math.max(t.width,t.height),i=e.clientX-t.left-o/2,s=e.clientY-t.top-o/2;n.style.cssText=`\n                    position: absolute;\n                    width: ${o}px;\n                    height: ${o}px;\n                    left: ${i}px;\n                    top: ${s}px;\n                    background: rgba(255, 255, 255, 0.3);\n                    border-radius: 50%;\n                    transform: scale(0);\n                    animation: ripple 0.6s linear;\n                    pointer-events: none;\n                `,this.appendChild(n),setTimeout(()=>{n.remove()},600)})}),!document.querySelector("#ripple-animation")){const e=document.createElement("style");e.id="ripple-animation",e.textContent="\n                @keyframes ripple {\n                    to {\n                        transform: scale(4);\n                        opacity: 0;\n                    }\n                }\n            ",document.head.appendChild(e)}}(),function(){const e=document.querySelectorAll("img[data-src]");if(0===e.length)return;const n=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.src=t.getAttribute("data-src"),t.classList.add("loaded"),n.unobserve(t)}})},{rootMargin:"50px 0px",threshold:.01});e.forEach(e=>{e.classList.add("lazy"),n.observe(e)})}(),function(){const e=document.createElement("div");e.className="mouse-follower-enhanced",e.style.cssText="\n            position: fixed;\n            width: 20px;\n            height: 20px;\n            background: radial-gradient(circle, rgba(255,107,107,0.6) 0%, transparent 70%);\n            border-radius: 50%;\n            pointer-events: none;\n            z-index: 9999;\n            transition: transform 0.1s ease;\n            display: none;\n        ",document.body.appendChild(e);let n=0,t=0,o=0,i=0;document.addEventListener("mousemove",o=>{n=o.clientX,t=o.clientY,e.style.display="block"}),document.addEventListener("mouseleave",()=>{e.style.display="none"}),function s(){o+=.1*(n-o),i+=.1*(t-i),e.style.left=o-10+"px",e.style.top=i-10+"px",requestAnimationFrame(s)}()}(),function(){const e=document.createElement("div");e.className="page-loader-enhanced",e.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 10000;\n            transition: opacity 0.5s ease;\n        ";const n=document.createElement("div");n.style.cssText="\n            text-align: center;\n            color: white;\n        ";const t=document.createElement("div");t.style.cssText="\n            width: 60px;\n            height: 60px;\n            border: 4px solid rgba(255,255,255,0.3);\n            border-top: 4px solid white;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin: 0 auto 20px;\n        ";const o=document.createElement("div");o.textContent="philo的小站",o.style.cssText="\n            font-size: 1.5rem;\n            font-weight: bold;\n            opacity: 0.9;\n        ",n.appendChild(t),n.appendChild(o),e.appendChild(n),document.body.appendChild(e),window.addEventListener("load",()=>{setTimeout(()=>{e.style.opacity="0",setTimeout(()=>{e.remove()},500)},1500)})}()}();